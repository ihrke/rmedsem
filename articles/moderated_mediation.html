<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Moderated mediation and mediated moderation using rmedsem • rmedsem</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Moderated mediation and mediated moderation using rmedsem">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rmedsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/estimation_methods.html">Examples using the supported estimation methods</a></li>
    <li><a class="dropdown-item" href="../articles/mediation_technical.html">Technical details of the estimation</a></li>
    <li><a class="dropdown-item" href="../articles/moderated_mediation.html">Moderated mediation and mediated moderation using rmedsem</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ihrke/rmedsem/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Moderated mediation and mediated moderation using rmedsem</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ihrke/rmedsem/blob/master/vignettes/articles/moderated_mediation.Rmd" class="external-link"><code>vignettes/articles/moderated_mediation.Rmd</code></a></small>
      <div class="d-none name"><code>moderated_mediation.Rmd</code></div>
    </div>

    
    
<p>It is often of interest to assess whether a mediation effect is
invariant across contexts, or whether its strength depends on the level
of another variable. In such cases, the indirect effect of an
independent variable on an outcome via a mediator is moderated by a
third variable (the moderator). These types of effects are often
referred to as moderated mediation or mediated moderation effects
(Preacher et al., 2007).</p>
<p>Currently, <code>rmedsem</code> implements moderated mediation and
mediated moderation for cases corresponding to “Model 2” from Preacher
et al., 2007 shown in the following graph:</p>
<p><img src="moderated_mediation_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>Mathematically, this model can be specified as</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right" style="text-align: right"><mi>M</mi></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><msub><mi>a</mi><mn>1</mn></msub><mi>X</mi><mo>+</mo><msub><mi>a</mi><mn>2</mn></msub><mi>W</mi><mo>+</mo><msub><mi>a</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>×</mo><mi>W</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msub><mi>ε</mi><mi>M</mi></msub></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mi>Y</mi></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><msub><mi>b</mi><mn>0</mn></msub><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub><mi>M</mi><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub><mi>X</mi><mo>+</mo><msub><mi>b</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>×</mo><mi>W</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msub><mi>ε</mi><mi>Y</mi></msub></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
M &amp;= a_0 + a_1 X + a_2 W + a_3 (X \times W) + \varepsilon_M\\
Y &amp;= b_0 + b_1 M + b_2 X + b_3 (X \times W) + \varepsilon_Y
\end{align*}</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
is the independent variable,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
is the dependent variable,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is the mediator, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>W</mi><annotation encoding="application/x-tex">W</annotation></semantics></math>
is the moderator. The interaction term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>×</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">X \times W</annotation></semantics></math>
is included in the equations for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.</p>
<p>To estimate moderated mediation and mediated moderation with
<code>rmedsem</code>, we need to specify the model using the <a href="https://modsem.org" class="external-link"><code>modsem</code></a> package which allows
to estimate structural equation models with interaction terms using
<code>lavaan</code>. We specify and estimate the following model
(corresponding to the conceptual model above) using the dataset
<code><a href="../reference/mchoice.html">rmedsem::mchoice</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modsem.org" class="external-link">modsem</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  OwnLook =~ smv_attr_face + smv_attr_body + smv_sexy</span></span>
<span><span class="st">  SelfEst =~ ses_satis + ses_qualities + ses_able_todo</span></span>
<span><span class="st">  MentWell =~ mwb_optimistic + mwb_useful + mwb_energy</span></span>
<span><span class="st">  smv =~ smv_kind + smv_caring + smv_understanding +</span></span>
<span><span class="st">    smv_make_laughh + smv_funny + smv_sociable</span></span>
<span><span class="st">  SelfEst ~ OwnLook + smv + smv:OwnLook</span></span>
<span><span class="st">  MentWell ~ OwnLook + SelfEst + smv + smv:OwnLook</span></span>
<span><span class="st">"</span></span>
<span></span>
<span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://modsem.org/reference/modsem.html" class="external-link">modsem</a></span><span class="op">(</span><span class="va">model</span>, data <span class="op">=</span> <span class="fu">rmedsem</span><span class="fu">::</span><span class="va"><a href="../reference/mchoice.html">mchoice</a></span>, method<span class="op">=</span><span class="st">"lms"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="moderated-mediation">Moderated Mediation<a class="anchor" aria-label="anchor" href="#moderated-mediation"></a>
</h2>
<p><em>Moderated mediation</em> asks whether the indirect effect of an
exposure <code>X</code> on outcome <code>Y</code> via mediator
<code>M</code> varies across levels of a third variable
<code>W</code>.<br>
In our example, we test how the indirect path from <code>OwnLook</code>
to <code>MentWell</code> through <code>SelfEst</code> depends on
<code>smv</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ihrke/rmedsem" class="external-link">rmedsem</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/rmedsem.html">rmedsem</a></span><span class="op">(</span>indep<span class="op">=</span><span class="st">"OwnLook"</span>, dep<span class="op">=</span><span class="st">"MentWell"</span>, med<span class="op">=</span><span class="st">"SelfEst"</span>, mod<span class="op">=</span><span class="va">est</span>,</span>
<span>        moderator<span class="op">=</span><span class="st">"smv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Significance testing of indirect effect (standardized)</span></span>
<span><span class="co">#&gt; Model estimated with package 'modsem'</span></span>
<span><span class="co">#&gt; Mediation effect: 'OwnLook' -&gt; 'SelfEst' -&gt; 'MentWell'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                          Sobel          Delta    Monte-Carlo</span></span>
<span><span class="co">#&gt; Indirect effect         0.2535         0.2535         0.2535</span></span>
<span><span class="co">#&gt; Std. Err.               0.0356         0.0363         0.0343</span></span>
<span><span class="co">#&gt; z-value                 7.1129         6.9853         7.3775</span></span>
<span><span class="co">#&gt; p-value               1.14e-12       2.84e-12       1.61e-13</span></span>
<span><span class="co">#&gt; CI              [0.184, 0.323] [0.182, 0.325] [0.188, 0.323]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Baron and Kenny approach to testing mediation</span></span>
<span><span class="co">#&gt;    STEP 1 - 'OwnLook:SelfEst' (X -&gt; M) with B=0.486 and p=0.000</span></span>
<span><span class="co">#&gt;    STEP 2 - 'SelfEst:MentWell' (M -&gt; Y) with B=0.521 and p=0.000</span></span>
<span><span class="co">#&gt;    STEP 3 - 'OwnLook:MentWell' (X -&gt; Y) with B=0.011 and p=0.832</span></span>
<span><span class="co">#&gt;             As STEP 1, STEP 2 and the Sobel's test above are significant</span></span>
<span><span class="co">#&gt;             and STEP 3 is not significant the mediation is complete.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Zhao, Lynch &amp; Chen's approach to testing mediation</span></span>
<span><span class="co">#&gt; Based on p-value estimated using Monte-Carlo</span></span>
<span><span class="co">#&gt;   STEP 1 - 'OwnLook:MentWell' (X -&gt; Y) with B=0.011 and p=0.832</span></span>
<span><span class="co">#&gt;             As the Monte-Carlo test above is significant and STEP 1 is not</span></span>
<span><span class="co">#&gt;             significant there indirect-only mediation (full mediation).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Effect sizes</span></span>
<span><span class="co">#&gt;    RIT = (Indirect effect / Total effect)</span></span>
<span><span class="co">#&gt;          (0.253/0.265) = 0.957</span></span>
<span><span class="co">#&gt;          Meaning that about  96% of the effect of 'OwnLook'</span></span>
<span><span class="co">#&gt;          on 'MentWell' is mediated by 'SelfEst'</span></span>
<span><span class="co">#&gt;    RID = (Indirect effect / Direct effect)</span></span>
<span><span class="co">#&gt;          (0.253/0.011) = 22.173</span></span>
<span><span class="co">#&gt;          That is, the mediated effect is about 22.2 times as</span></span>
<span><span class="co">#&gt;          large as the direct effect of 'OwnLook' on 'MentWell'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Direct moderation effects</span></span>
<span><span class="co">#&gt;    SelfEst  -&gt; OwnLook  | smv: B = -0.14, p = 0.000, ci = [-0.20,-0.07]</span></span>
<span><span class="co">#&gt;    MentWell -&gt; OwnLook  | smv: B = -0.01, p = 0.838, ci = [-0.09, 0.07]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Indirect moderation effect</span></span>
<span><span class="co">#&gt;    SelfEst  -&gt; OwnLook  | smv: B = -0.07, p = 0.000, ci = [-0.09,-0.05]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Total moderation effect</span></span>
<span><span class="co">#&gt;    SelfEst  -&gt; OwnLook  | smv: B = -0.08, p = 0.000, ci = [-0.10,-0.06]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="mediated-moderation">Mediated Moderation<a class="anchor" aria-label="anchor" href="#mediated-moderation"></a>
</h2>
<p><em>Mediated moderation</em> treats the interaction term
<code>X:W</code> as the independent variable and asks whether its effect
on <code>Y</code> is carried through <code>M</code>. Using the model
from the previous example, we can test whether the interaction between
<code>OwnLook</code> and <code>smv</code> on <code>MentWell</code> is
mediated by <code>SelfEst</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rmedsem.html">rmedsem</a></span><span class="op">(</span>indep<span class="op">=</span><span class="st">"smv:OwnLook"</span>, dep<span class="op">=</span><span class="st">"MentWell"</span>, med<span class="op">=</span><span class="st">"SelfEst"</span>, mod<span class="op">=</span><span class="va">est</span><span class="op">)</span></span>
<span><span class="co">#&gt; Significance testing of indirect effect (standardized)</span></span>
<span><span class="co">#&gt; Model estimated with package 'modsem'</span></span>
<span><span class="co">#&gt; Mediation effect: 'smv:OwnLook' -&gt; 'SelfEst' -&gt; 'MentWell'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                            Sobel             Delta      Monte-Carlo</span></span>
<span><span class="co">#&gt; Indirect effect          -0.0719           -0.0719          -0.0719</span></span>
<span><span class="co">#&gt; Std. Err.                 0.0188            0.0187           0.0183</span></span>
<span><span class="co">#&gt; z-value                  -3.8195           -3.8485          -3.9218</span></span>
<span><span class="co">#&gt; p-value                 0.000134          0.000119         8.79e-05</span></span>
<span><span class="co">#&gt; CI              [-0.109, -0.035] [-0.109, -0.0353] [-0.11, -0.0389]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Baron and Kenny approach to testing mediation</span></span>
<span><span class="co">#&gt;    STEP 1 - 'smv:OwnLook:SelfEst' (X -&gt; M) with B=-0.138 and p=0.000</span></span>
<span><span class="co">#&gt;    STEP 2 - 'SelfEst:MentWell' (M -&gt; Y) with B=0.521 and p=0.000</span></span>
<span><span class="co">#&gt;    STEP 3 - 'smv:OwnLook:MentWell' (X -&gt; Y) with B=-0.008 and p=0.838</span></span>
<span><span class="co">#&gt;             As STEP 1, STEP 2 and the Sobel's test above are significant</span></span>
<span><span class="co">#&gt;             and STEP 3 is not significant the mediation is complete.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Zhao, Lynch &amp; Chen's approach to testing mediation</span></span>
<span><span class="co">#&gt; Based on p-value estimated using Monte-Carlo</span></span>
<span><span class="co">#&gt;   STEP 1 - 'smv:OwnLook:MentWell' (X -&gt; Y) with B=-0.008 and p=0.838</span></span>
<span><span class="co">#&gt;             As the Monte-Carlo test above is significant and STEP 1 is not</span></span>
<span><span class="co">#&gt;             significant there indirect-only mediation (full mediation).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Effect sizes</span></span>
<span><span class="co">#&gt;    RIT = (Indirect effect / Total effect)</span></span>
<span><span class="co">#&gt;          Total effect 0.080 is too small to calculate RIT</span></span>
<span><span class="co">#&gt;    RID = (Indirect effect / Direct effect)</span></span>
<span><span class="co">#&gt;          (0.072/0.008) = 8.896</span></span>
<span><span class="co">#&gt;          That is, the mediated effect is about 8.9 times as</span></span>
<span><span class="co">#&gt;          large as the direct effect of 'smv:OwnLook' on 'MentWell'</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mehmet Mehmetoglu, Matthias Mittner, Kjell Slupphaug.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
